# Technology Stack Analyzer for Global Directory of Software Developers

StackMuncher App is a static code analysis tool that answers one question: 
> What is my stack and how well do I know it?

The app analyses local Git repositories and uploads a technology stack report to stackmuncher.com for inclusion into the developer's profile.


## Privacy

1. All code analysis is done locally. Not a single line of code is leaving your machine.
2. All identifying and sensitive information like file or private library names is stripped.
3. Your developer profile is completely anonymous unless you add your name and contact details.

## Examples

* anonymous profile: https://stackmuncher.com/?dev=9PdHabyyhf4KhHAE1SqdpnbAZEXTHhpkermwfPQcLeFK
* public profile: https://stackmuncher.com/rimutaka
* sample report (local copy): ...
* sample report (stripped down): ...

## Quick start

We are testing an alpha release and the only way to run this app for now is to compile it from the source.

1. **Install Rust compiler**: https://www.rust-lang.org/tools/install
2. **Clone this repo**: `git clone https://github.com/stackmuncher/stm_app.git`
3. **Generate a report**: run `cargo run -- --project "path_to_any_of_your_local_projects"` from `stm_app` folder.

The app will access `.git` folder inside `path_to_any_of_your_local_projects` and create an anonymous profile with your first report on stackmuncher.com. Add `--noupdate` flag to generate a report without creating a profile or submitting any data to stackmuncher.com.

##  Adding more projects to your profile

1. Build the app: run `cargo build --release` from `stm_app` folder.
2. Add the full absolute path of `stm_app/target/release` folder to `PATH` environment variable
3. Add a global [post-commit  Git hook](https://git-scm.com/docs/githooks#_post_commit):

    ```bash
    git config --global init.templatedir '~/.git-templates'
    mkdir -p ~/.git-templates/hooks
    echo "stackmuncher >> ~/.stm.log" >> ~/.git-templates/hooks/post-commit
    chmod a+x ~/.git-templates/hooks/post-commit
    ```
4. Run `git init` on your existing repos to add the hook from the template. Any new repos or clones will get the hook added by default.

Git will invoke the app every time you make a commit to a repo with the post-commit hook to generate a report, log its progress in `~/.stm.log` and update your profile. Alternatively, you can skip adding the Git hook and run `stackmuncher` from the root of any of your projects.

## Detailed usage instructions

Running `stackmuncher` without any additional params generates a report for the project in the current working directory and updates your developer profile.

Anonymous profiles are identified by a public key from the key-pair generated by the app on the first run. E.g. https://stackmuncher.com/?dev=9PdHabyyhf4KhHAE1SqdpnbAZEXTHhpkermwfPQcLeFK
The key is located in the app's config folder and can be copied to another machine to connect to the same developer profile. Run `stackmuncher view_config` to see the exact location of the config folder.

### Additional options

Some settings are cached in a local config file and only need to be set once. You can set, change or unset them via CLI params or by editing the config file manually.

#### Processing settings

* `--emails "me@example.com,me@google.com"` : a list of your email addresses using in commits to include the report. Defaults to `git config user.email`. Set once.
* `--project "path_to_project_to_be_analyzed"`: an optional relative or absolute path to the project/repo to generate a report for, defaults to the current working directory.
* `--no_update`: tells the app to generate a report, save it locally, but not upload anything to the Directory.

#### Profile settings

* `--primary_email "me@example.com"`: an email address for Directory notifications. Defaults to `git config user.email`. Set once. This setting is optional. No reports are submitted to the directory if this value is unset.
* `--public_name "My Full Name or Nickname"`: an optional public name of your Directory Profile. It is visible to anyone, including search engines. Leave it blank to remain anonymous. Set once.
* `--public_contact "email, website, twitter"`: optional contact details for your Directory Profile. It is visible to anyone, including search engines. Set once.

#### Debugging settings

* `--log error|warn|info|debug|trace`: the log is written to _stdout_ and _stderror_. Defaults to `error` for least verbose output. Redirect the output to a file or _null device_ to completely silence it.
* `--rules "path to code analysis rules"`: a path to an alternative location of code analysis rules. The path can be relative or absolute. Defaults to the application folder.
* `--reports "path to reports folder"`: a path to an alternative location for saving stack reports. The path can be relative or absolute. Defaults to the application folder.
* `--config "path to config folder"`: a path to an alternative location of the config folder. The path can be relative or absolute. Defaults to the application folder.

* `--help`: display usage info

ADDITIONAL COMMANDS:
* `view_config`: displays the contents of the config file and its location. The config file can be edited manually or copied to another machine together with the key file to connect to the same Developer Profile.


## Limitations

The current version of the app is at alpha-stage and should be used for testing purposes only. 

1. Only a small number of computer languages are recognized.
2. There is no guarantee a profile will come up in a search via the front-end.
3. Profiles can be accessed via `/?dev=...` links only.
4. The app may include private library names in the report - do not use it on sensitive projects.
5. The only way to delete a profile is to email info@stackmuncher.com.
6. Your Github profile may be included in the Directory, but it cannot be linked to your private profile.
7. It may take up to 2 minutes for a profile to be updated after a report submission.


## Bug reports and contributions

File an issue via https://github.com/stackmuncher/stm_app/issues or email the maintainer on info@stackmuncher.com.